
> rest-express@1.0.0 dev
> NODE_ENV=development tsx server/index.ts

[dotenv@17.2.1] injecting env (12) from .env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }
‚úÖ Database connected successfully
[dotenv@17.2.1] injecting env (0) from .env -- tip: üì° observe env with Radar: https://dotenvx.com/radar
Store data already initialized
Site configuration already initialized
ENV PORT: 5000
5:45:17 PM [express] serving on port 5000
Browserslist: browsers data (caniuse-lite) is 11 months old. Please run:
  npx update-browserslist-db@latest
  Why you should do it regularly: https://github.com/browserslist/update-db#readme
5:45:25 PM [express] GET /api/config 304 in 3ms :: {"id":"d30cd035-434f-4475-bd30-4e5f1411b017","con‚Ä¶
5:45:25 PM [express] GET /api/config 304 in 2ms :: {"id":"d30cd035-434f-4475-bd30-4e5f1411b017","con‚Ä¶
Error fetching button configurations: TypeError: storage.getAllButtonConfigs is not a function
    at <anonymous> (/home/runner/workspace/server/routes.ts:2755:37)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at jsonParser (/home/runner/workspace/node_modules/body-parser/lib/types/json.js:113:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:646:15
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:265:14)
    at Function.handle (/home/runner/workspace/node_modules/express/lib/router/index.js:175:3)
    at router (/home/runner/workspace/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:646:15
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:265:14)
    at jsonParser (/home/runner/workspace/node_modules/body-parser/lib/types/json.js:113:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at Function.handle (/home/runner/workspace/node_modules/express/lib/router/index.js:175:3)
    at router (/home/runner/workspace/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:45:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:94:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
5:45:25 PM [express] GET /api/button-config 500 in 11ms :: {"error":"Internal server error"}
5:45:25 PM [express] GET /api/auth/me 401 in 0ms :: {"message":"Authentication required"}
5:45:26 PM [express] GET /api/store/products 304 in 6ms :: [{"id":"36798950-3058-4f0e-b30f-cf2d0c3ce‚Ä¶
5:45:26 PM [express] GET /api/contact/info 304 in 3ms :: {}
5:45:26 PM [express] GET /api/navbar-config 304 in 17ms :: {"blog":{"href":"/blog","label":"Blog","o‚Ä¶
5:45:27 PM [express] POST /api/auth/login 200 in 2ms :: {"token":"4ypfixcel188mcltb5ck4a","user":{"i‚Ä¶
5:45:29 PM [express] GET /api/config 304 in 3ms :: {"id":"d30cd035-434f-4475-bd30-4e5f1411b017","con‚Ä¶
5:45:29 PM [express] GET /api/config 304 in 4ms :: {"id":"d30cd035-434f-4475-bd30-4e5f1411b017","con‚Ä¶
5:45:29 PM [express] GET /api/store/products 304 in 2ms :: [{"id":"36798950-3058-4f0e-b30f-cf2d0c3ce‚Ä¶
5:45:29 PM [express] GET /api/auth/me 304 in 2ms :: {"id":"f656067f-c634-4fd5-8378-a58d49a5b029","us‚Ä¶
5:45:29 PM [express] GET /api/testimonials 304 in 1ms :: [{"id":"d8db69c7-17f8-47a6-863f-d68df4753dd‚Ä¶
5:45:29 PM [express] GET /api/users 304 in 2ms :: [{"id":"f656067f-c634-4fd5-8378-a58d49a5b029","use‚Ä¶
5:45:29 PM [express] GET /api/store/orders 304 in 4ms :: [{"id":"6dd0c3d5-b34f-4b39-a2c6-91832f49716‚Ä¶
5:45:29 PM [express] GET /api/contact/messages 304 in 3ms :: [{"id":"9a1b6868-56ac-4e01-b5c4-80e6820‚Ä¶
5:45:29 PM [express] GET /api/blog 304 in 2ms :: []
5:45:30 PM [express] GET /api/config 200 in 3ms :: {"id":"d30cd035-434f-4475-bd30-4e5f1411b017","con‚Ä¶
5:45:30 PM [express] GET /api/config 304 in 1ms :: {"id":"d30cd035-434f-4475-bd30-4e5f1411b017","con‚Ä¶
Error fetching button configurations: TypeError: storage.getAllButtonConfigs is not a function
    at <anonymous> (/home/runner/workspace/server/routes.ts:2755:37)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at Route.dispatch (/home/runner/workspace/node_modules/express/lib/router/route.js:119:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:284:15
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at jsonParser (/home/runner/workspace/node_modules/body-parser/lib/types/json.js:113:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:646:15
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:265:14)
    at Function.handle (/home/runner/workspace/node_modules/express/lib/router/index.js:175:3)
    at router (/home/runner/workspace/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:646:15
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:265:14)
    at jsonParser (/home/runner/workspace/node_modules/body-parser/lib/types/json.js:113:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at Function.handle (/home/runner/workspace/node_modules/express/lib/router/index.js:175:3)
    at router (/home/runner/workspace/node_modules/express/lib/router/index.js:47:12)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at <anonymous> (/home/runner/workspace/server/index.ts:45:3)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
    at urlencodedParser (/home/runner/workspace/node_modules/body-parser/lib/types/urlencoded.js:94:7)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/runner/workspace/node_modules/express/lib/router/index.js:328:13)
    at /home/runner/workspace/node_modules/express/lib/router/index.js:286:9
    at Function.process_params (/home/runner/workspace/node_modules/express/lib/router/index.js:346:12)
    at next (/home/runner/workspace/node_modules/express/lib/router/index.js:280:10)
5:45:30 PM [express] GET /api/button-config 500 in 2ms :: {"error":"Internal server error"}
5:45:31 PM [express] GET /api/sections 304 in 2ms :: []
5:45:31 PM [express] GET /api/testimonials 304 in 2ms :: [{"id":"d8db69c7-17f8-47a6-863f-d68df4753dd‚Ä¶
5:45:31 PM [express] GET /api/media/08d73b27-e139-4691-ac7f-156bee74ccea 200 in 7ms
5:45:31 PM [express] GET /api/navbar-config 304 in 1ms :: {"blog":{"href":"/blog","label":"Blog","or‚Ä¶
5:45:31 PM [express] GET /api/store/products 304 in 2ms :: [{"id":"36798950-3058-4f0e-b30f-cf2d0c3ce‚Ä¶
5:45:31 PM [express] GET /api/contact/info 304 in 1ms :: {}
Error initializing default button configurations: TypeError: storage.initializeDefaultButtonConfigs is not a function
    at <anonymous> (/home/runner/workspace/server/routes.ts:2843:37)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at <anonymous> (/home/runner/workspace/server/routes.ts:73:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
5:45:33 PM [express] POST /api/button-config/initialize-defaults 500 in 2ms :: {"error":"Internal se‚Ä¶
Error initializing default button configurations: TypeError: storage.initializeDefaultButtonConfigs is not a function
    at <anonymous> (/home/runner/workspace/server/routes.ts:2843:37)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at <anonymous> (/home/runner/workspace/server/routes.ts:73:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
5:45:41 PM [express] POST /api/button-config/initialize-defaults 500 in 9ms :: {"error":"Internal se‚Ä¶
Error creating button configuration: TypeError: storage.createButtonConfig is not a function
    at <anonymous> (/home/runner/workspace/server/routes.ts:2790:36)
    at Layer.handle [as handle_request] (/home/runner/workspace/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/runner/workspace/node_modules/express/lib/router/route.js:149:13)
    at <anonymous> (/home/runner/workspace/server/routes.ts:73:5)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
5:46:36 PM [express] POST /api/button-config 500 in 10ms :: {"error":"Internal server error"}