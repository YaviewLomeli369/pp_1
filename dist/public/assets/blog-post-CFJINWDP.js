import{a9 as z,ah as d,ai as L,r as j,c as B,k as U,a as k,d as _,j as e,L as E,B as w,h as A,ag as R,af as q,E as H,aj as W,ak as K,al as G,am as u,an as Q,g as J,C as X,f as Y,e as v}from"./index-68JtM4Cd.js";import{N as y,F as N}from"./footer-Z09FTuhT.js";import{S as C}from"./seo-head-CvkVOmlP.js";import{A as P}from"./arrow-left-DWRgMh92.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=z("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=z("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);var I={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},S=d.createContext&&d.createContext(I),te=["attr","size","title"];function ae(t,a){if(t==null)return{};var r=re(t,a),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(a.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function re(t,a){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(a.indexOf(n)>=0)continue;r[n]=t[n]}return r}function f(){return f=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f.apply(this,arguments)}function M(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function g(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?M(Object(r),!0).forEach(function(n){ne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ne(t,a,r){return a=se(a),a in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function se(t){var a=ie(t,"string");return typeof a=="symbol"?a:a+""}function ie(t,a){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,a);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}function F(t){return t&&t.map((a,r)=>d.createElement(a.tag,g({key:r},a.attr),F(a.child)))}function b(t){return a=>d.createElement(oe,f({attr:g({},t.attr)},a),F(t.child))}function oe(t){var a=r=>{var{attr:n,size:i,title:o}=t,x=ae(t,te),s=i||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),d.createElement("svg",f({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,x,{className:l,style:g(g({color:t.color||r.color},r.style),t.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&d.createElement("title",null,o),t.children)};return S!==void 0?d.createElement(S.Consumer,null,r=>a(r)):a(I)}function ce(t){return b({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function le(t){return b({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function de(t){return b({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function he(t){return b({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function fe(){const[t,a]=L("/blog/:slug"),[r,n]=j.useState(!1),i=B(),{toast:o}=U(),{data:x}=k({queryKey:["/api/config"],queryFn:()=>v("/api/config",{method:"GET"})}),{data:s,isLoading:l}=k({queryKey:["/api/blog",a?.slug],queryFn:()=>v(`/api/blog/slug/${a?.slug}`,{method:"GET"}),enabled:!!a?.slug}),{appearance:h}=j.useMemo(()=>({appearance:x?.config?.appearance||{}}),[x]),V=_({mutationFn:async c=>await v(`/api/blog/${c}/view`,{method:"PUT",body:JSON.stringify({})}),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/blog"]})}}),m=typeof window<"u"?window.location.href:"",O=s?.title||"";s?.excerpt;const D={facebook:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(m)}`,twitter:`https://twitter.com/intent/tweet?url=${encodeURIComponent(m)}&text=${encodeURIComponent(O)}`,linkedin:`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(m)}`,whatsapp:`https://wa.me/?text=${encodeURIComponent(`${O} ${m}`)}`},$=async()=>{try{await navigator.clipboard.writeText(m),n(!0),o({title:"¡Enlace copiado!",description:"El enlace del artículo se ha copiado al portapapeles."}),setTimeout(()=>n(!1),2e3)}catch{o({variant:"destructive",title:"Error",description:"No se pudo copiar el enlace. Inténtalo de nuevo."})}},p=c=>{window.open(D[c],"_blank","width=600,height=400")};return j.useEffect(()=>{s?.id&&V.mutate(s.id)},[s?.id]),l?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(C,{title:"Cargando..."}),e.jsx(y,{}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsx("div",{className:"text-center",children:"Cargando artículo..."})}),e.jsx(N,{})]}):s?e.jsxs("div",{className:"min-h-screen bg-background",style:{backgroundColor:h.backgroundColor||"inherit",color:h.textColor||"inherit",fontFamily:h.fontFamily||"inherit"},children:[e.jsx(C,{title:`${s.title} - ${h.brandName||"Sistema Modular"}`,description:s.excerpt||"Artículo del blog"}),e.jsx(y,{}),e.jsx("section",{className:"bg-primary text-white py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsx(E,{href:"/blog",children:e.jsxs(w,{variant:"ghost",className:"text-white hover:bg-white hover:text-black border border-white",children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"Volver al Blog"]})})}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:s.tags?.map((c,T)=>e.jsx(A,{variant:"secondary",className:"bg-white/20 text-white",children:c},`${s.id}-${c}-${T}`))}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",style:{fontFamily:h.fontFamily||"inherit"},children:s.title}),e.jsxs("div",{className:"flex items-center justify-between text-blue-100",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(R,{className:"w-4 h-4"}),e.jsx("span",{children:s.authorName||"Autor"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(q,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(s.publishedAt||s.createdAt).toLocaleDateString()})]}),s.views&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.views," visualizaciones"]})]})]}),e.jsxs(W,{children:[e.jsx(K,{asChild:!0,children:e.jsxs(w,{variant:"ghost",className:"text-white hover:bg-white hover:text-black border border-white",children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"Compartir"]})}),e.jsxs(G,{align:"end",className:"w-56",children:[e.jsxs(u,{onClick:()=>p("facebook"),children:[e.jsx(ce,{className:"w-4 h-4 mr-2 text-blue-600"}),"Compartir en Facebook"]}),e.jsxs(u,{onClick:()=>p("twitter"),children:[e.jsx(de,{className:"w-4 h-4 mr-2 text-blue-400"}),"Compartir en Twitter"]}),e.jsxs(u,{onClick:()=>p("linkedin"),children:[e.jsx(le,{className:"w-4 h-4 mr-2 text-blue-700"}),"Compartir en LinkedIn"]}),e.jsxs(u,{onClick:()=>p("whatsapp"),children:[e.jsx(he,{className:"w-4 h-4 mr-2 text-green-500"}),"Compartir en WhatsApp"]}),e.jsx(Q,{}),e.jsxs(u,{onClick:$,children:[r?e.jsx(J,{className:"w-4 h-4 mr-2 text-green-500"}):e.jsx(Z,{className:"w-4 h-4 mr-2"}),r?"¡Enlace copiado!":"Copiar enlace"]})]})]})]})]})}),e.jsx("section",{className:"py-16",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx(X,{children:e.jsxs(Y,{className:"p-8",children:[s.featuredImage&&e.jsx("div",{className:"aspect-video w-full overflow-hidden rounded-lg mb-8",children:e.jsx("img",{src:s.featuredImage,alt:s.title,className:"w-full h-full object-cover"})}),s.excerpt&&e.jsx("div",{className:"bg-gray-50 p-6 rounded-lg mb-8",children:e.jsx("p",{className:"text-lg text-gray-700 italic",children:s.excerpt})}),e.jsx("div",{className:"prose prose-lg max-w-none break-word",children:e.jsx("div",{className:"text-gray-600 leading-relaxed",dangerouslySetInnerHTML:{__html:s.content}})})]})})})}),e.jsx(N,{})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(C,{title:"Artículo no encontrado"}),e.jsx(y,{}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 navbar-fixed-body",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Artículo no encontrado"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"El artículo que buscas no existe o ha sido eliminado."}),e.jsx(E,{href:"/blog",children:e.jsxs(w,{variant:"ghost",className:"text-white hover:bg-white hover:text-black border border-white",children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"Volver al Blog"]})})]})}),e.jsx(N,{})]})}export{fe as default};
