import{j as e,$ as A,a0 as q,a1 as T,a2 as D,a3 as E,u as B,k as I,r as d,B as k,aS as P,C as v,O as j,V as b,f as N,q as l,s as t}from"./index-68JtM4Cd.js";import{A as L}from"./arrow-left-DWRgMh92.js";function S({value:p,onChange:m,options:o,placeholder:x="Seleccionar...",className:s="",id:C}){return/Mobi|Android|iPhone/i.test(navigator.userAgent)?e.jsxs("select",{id:C,value:p||"",onChange:n=>m(n.target.value),className:`flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${s}`,autoComplete:"new-password",autoCorrect:"off",spellCheck:!1,children:[e.jsx("option",{value:"",disabled:!0,children:x}),o.map(n=>e.jsx("option",{value:n.value,children:n.label},n.value))]}):e.jsxs(A,{value:p||"",onValueChange:m,children:[e.jsx(q,{className:s,id:C,children:e.jsx(T,{placeholder:x})}),e.jsx(D,{position:"popper",className:"max-h-[200px]",sideOffset:4,children:o.map(n=>e.jsx(E,{value:n.value,children:n.label},n.value))})]})}function G(){const[,p]=B(),{toast:m}=I(),[o,x]=d.useState({email:"",firstName:"",lastName:"",phone:""}),[s,C]=d.useState({firstName:"",lastName:"",address1:"",address2:"",city:"",state:"",zipCode:"",country:"MX",phone:""}),[c,n]=d.useState(!1),[i,y]=d.useState({firstName:"",lastName:"",address1:"",address2:"",city:"",state:"",zipCode:"",country:"MX",phone:""}),w=[{value:"Aguascalientes",label:"Aguascalientes"},{value:"Baja California",label:"Baja California"},{value:"Baja California Sur",label:"Baja California Sur"},{value:"Campeche",label:"Campeche"},{value:"Chiapas",label:"Chiapas"},{value:"Chihuahua",label:"Chihuahua"},{value:"Ciudad de México",label:"Ciudad de México"},{value:"Coahuila",label:"Coahuila"},{value:"Colima",label:"Colima"},{value:"Durango",label:"Durango"},{value:"Estado de México",label:"Estado de México"},{value:"Guanajuato",label:"Guanajuato"},{value:"Guerrero",label:"Guerrero"},{value:"Hidalgo",label:"Hidalgo"},{value:"Jalisco",label:"Jalisco"},{value:"Michoacán",label:"Michoacán"},{value:"Morelos",label:"Morelos"},{value:"Nayarit",label:"Nayarit"},{value:"Nuevo León",label:"Nuevo León"},{value:"Oaxaca",label:"Oaxaca"},{value:"Puebla",label:"Puebla"},{value:"Querétaro",label:"Querétaro"},{value:"Quintana Roo",label:"Quintana Roo"},{value:"San Luis Potosí",label:"San Luis Potosí"},{value:"Sinaloa",label:"Sinaloa"},{value:"Sonora",label:"Sonora"},{value:"Tabasco",label:"Tabasco"},{value:"Tamaulipas",label:"Tamaulipas"},{value:"Tlaxcala",label:"Tlaxcala"},{value:"Veracruz",label:"Veracruz"},{value:"Yucatán",label:"Yucatán"},{value:"Zacatecas",label:"Zacatecas"}],f=d.useCallback((a,r)=>{x(g=>({...g,[a]:r}))},[]),u=d.useCallback((a,r)=>{C(g=>({...g,[a]:r}))},[]),h=d.useCallback((a,r)=>{y(g=>({...g,[a]:r}))},[]),z=d.useCallback(a=>{C(r=>({...r,state:a}))},[]),F=d.useCallback(a=>{y(r=>({...r,state:a}))},[]),M=d.useCallback(a=>{if(a.preventDefault(),!o.email||!o.firstName||!o.lastName||!s.firstName||!s.lastName||!s.address1||!s.city||!s.state||!s.zipCode||c&&(!i.firstName||!i.lastName||!i.address1||!i.city||!i.state||!i.zipCode)){m({title:"Error",description:"Completa todos los campos requeridos",variant:"destructive"});return}try{const r={customerInfo:o,shippingAddress:s,billingAddress:c?i:s,timestamp:Date.now()};localStorage.setItem("checkout-info",JSON.stringify(r)),setTimeout(()=>{p("/checkout")},100)}catch(r){console.error("Error saving checkout data:",r),m({title:"Error",description:"Error al guardar la información. Intenta de nuevo.",variant:"destructive"})}},[o,s,i,c,p,m]);return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-2xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(k,{variant:"ghost",onClick:()=>p("/store"),className:"mb-4",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"Volver a la Tienda"]}),e.jsxs("div",{className:"text-center",children:[e.jsx(P,{className:"w-12 h-12 mx-auto mb-4 text-blue-600"}),e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Información de Envío"}),e.jsx("p",{className:"text-gray-500",children:"Proporciona tu información de contacto y dirección de envío"})]})]}),e.jsxs("form",{onSubmit:M,className:"space-y-6",children:[e.jsxs(v,{children:[e.jsx(j,{children:e.jsx(b,{className:"text-lg",children:"Información de Contacto"})}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"customer-firstName",children:"Nombre *"}),e.jsx(t,{id:"customer-firstName",value:o.firstName||"",onChange:a=>f("firstName",a.target.value),required:!0,autoComplete:"new-password",autoCorrect:"off",spellCheck:!1,autoCapitalize:"words"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"customer-lastName",children:"Apellidos *"}),e.jsx(t,{id:"customer-lastName",value:o.lastName||"",onChange:a=>f("lastName",a.target.value),required:!0,autoComplete:"new-password",autoCorrect:"off",spellCheck:!1,autoCapitalize:"words"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"email",children:"Email *"}),e.jsx(t,{id:"email",type:"email",value:o.email||"",onChange:a=>f("email",a.target.value),required:!0,autoComplete:"new-password",autoCorrect:"off",spellCheck:!1,autoCapitalize:"none"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"customer-phone",children:"Teléfono"}),e.jsx(t,{id:"customer-phone",type:"tel",value:o.phone||"",onChange:a=>f("phone",a.target.value),autoComplete:"new-password",autoCorrect:"off",spellCheck:!1})]})]})]}),e.jsxs(v,{children:[e.jsx(j,{children:e.jsx(b,{className:"text-lg",children:"Dirección de Envío"})}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"shipping-firstName",children:"Nombre *"}),e.jsx(t,{id:"shipping-firstName",value:s.firstName||"",onChange:a=>u("firstName",a.target.value),required:!0,autoComplete:"new-password",autoCorrect:"off",spellCheck:!1,autoCapitalize:"words"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"shipping-lastName",children:"Apellidos *"}),e.jsx(t,{id:"shipping-lastName",value:s.lastName||"",onChange:a=>u("lastName",a.target.value),required:!0,autoComplete:"new-password",autoCorrect:"off",spellCheck:!1,autoCapitalize:"words"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"address1",children:"Dirección *"}),e.jsx(t,{id:"address1",value:s.address1||"",onChange:a=>u("address1",a.target.value),placeholder:"Calle y número",required:!0,autoComplete:"new-password",autoCorrect:"off",spellCheck:!1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"address2",children:"Dirección 2 (Opcional)"}),e.jsx(t,{id:"address2",value:s.address2||"",onChange:a=>u("address2",a.target.value),placeholder:"Colonia, edificio, piso, etc.",autoComplete:"new-password",autoCorrect:"off",spellCheck:!1})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"city",children:"Ciudad *"}),e.jsx(t,{id:"city",value:s.city||"",onChange:a=>u("city",a.target.value),required:!0,autoComplete:"new-password",autoCorrect:"off",spellCheck:!1,autoCapitalize:"words"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"state",children:"Estado *"}),e.jsx(S,{id:"state",value:s.state||"",onChange:z,options:w,placeholder:"Selecciona estado *"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"zipCode",children:"Código Postal *"}),e.jsx(t,{id:"zipCode",value:s.zipCode||"",onChange:a=>u("zipCode",a.target.value),required:!0,autoComplete:"new-password",autoCorrect:"off",spellCheck:!1,pattern:"[0-9]*",inputMode:"numeric"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"shipping-phone",children:"Teléfono de contacto"}),e.jsx(t,{id:"shipping-phone",type:"tel",value:s.phone||"",onChange:a=>u("phone",a.target.value),autoComplete:"new-password",autoCorrect:"off",spellCheck:!1,inputMode:"tel"})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[e.jsx("input",{type:"checkbox",id:"billing-different",checked:c,onChange:a=>n(a.target.checked)}),e.jsx("label",{htmlFor:"billing-different",className:"text-sm",children:"¿La dirección de facturación es diferente?"})]}),c&&e.jsxs(v,{className:"mt-4",children:[e.jsx(j,{children:e.jsx(b,{className:"text-lg",children:"Dirección de Facturación"})}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"billing-firstName",children:"Nombre *"}),e.jsx(t,{id:"billing-firstName",value:i.firstName||"",onChange:a=>h("firstName",a.target.value),required:c,autoComplete:"new-password",autoCorrect:"off",spellCheck:!1,autoCapitalize:"words"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"billing-lastName",children:"Apellidos *"}),e.jsx(t,{id:"billing-lastName",value:i.lastName||"",onChange:a=>h("lastName",a.target.value),required:c,autoComplete:"new-password",autoCorrect:"off",spellCheck:!1,autoCapitalize:"words"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"billing-address1",children:"Dirección *"}),e.jsx(t,{id:"billing-address1",value:i.address1||"",onChange:a=>h("address1",a.target.value),required:c,autoComplete:"new-password",autoCorrect:"off",spellCheck:!1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"billing-address2",children:"Dirección 2 (Opcional)"}),e.jsx(t,{id:"billing-address2",value:i.address2||"",onChange:a=>h("address2",a.target.value),autoComplete:"new-password",autoCorrect:"off",spellCheck:!1})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"billing-city",children:"Ciudad *"}),e.jsx(t,{id:"billing-city",value:i.city||"",onChange:a=>h("city",a.target.value),required:c,autoComplete:"new-password",autoCorrect:"off",spellCheck:!1,autoCapitalize:"words"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"billing-state",children:"Estado *"}),e.jsx(S,{id:"billing-state",value:i.state||"",onChange:F,options:w,placeholder:"Selecciona estado *"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"billing-zipCode",children:"Código Postal *"}),e.jsx(t,{id:"billing-zipCode",value:i.zipCode||"",onChange:a=>h("zipCode",a.target.value),required:c,autoComplete:"new-password",autoCorrect:"off",spellCheck:!1,pattern:"[0-9]*",inputMode:"numeric"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"billing-phone",children:"Teléfono de contacto"}),e.jsx(t,{id:"billing-phone",type:"tel",value:i.phone||"",onChange:a=>h("phone",a.target.value),autoComplete:"new-password",autoCorrect:"off",spellCheck:!1,inputMode:"tel"})]})]})]})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(k,{type:"submit",size:"lg",className:"w-full md:w-auto",disabled:!1,children:"Continuar al Pago"})})]})]})})}export{G as default};
