import{u as q,a as j,b as T,c as D,d as z,e as I,r as N,j as e,R as P,B as w,L as k,I as E,C as M,f as S,S as A,T as $,U as X,g as R}from"./index-68JtM4Cd.js";import{N as H,F as O}from"./footer-Z09FTuhT.js";import{S as B}from"./seo-head-CvkVOmlP.js";import{P as U}from"./loader-BNP72ivf.js";import{I as _}from"./InlineTextarea-BsAcal64.js";import{A as v}from"./AnimatedSection-BCVpFQZW.js";import{A as K}from"./AlternatingSection-DTV29o9H.js";import{H as Q}from"./HeroSection-BGxOdh-p.js";import"./proxy-CmXc19OU.js";const V=({plan:s})=>{const g=s.whatsappPhone||"525512345678",h=(s.whatsappMessage||"Hola, me interesa más información sobre sus servicios.").replace(/\[PLAN_NAME\]/g,s.name),f=encodeURIComponent(h),n=`https://api.whatsapp.com/send?phone=${g}&text=${f}`,l=s.isPromotion&&s.originalPrice&&s.originalPrice.trim()!==""&&s.discountPercentage>0,u=i=>{if(!i)return 0;const m=i.replace(/[^\d,.\s]/g,"").replace(/,/g,"");return parseFloat(m)||0},y=u(s.price),r=s.originalPrice?u(s.originalPrice):0,x=l&&r>0?(r*(1-s.discountPercentage/100)).toLocaleString("es-MX",{minimumFractionDigits:2,maximumFractionDigits:2}):y.toLocaleString("es-MX",{minimumFractionDigits:2,maximumFractionDigits:2}),t=l&&r>0?r.toLocaleString("es-MX",{minimumFractionDigits:2,maximumFractionDigits:2}):null;return e.jsx(v,{delay:.1,children:e.jsxs("div",{className:`relative rounded-2xl shadow-lg p-8 flex flex-col transition-transform duration-300 hover:scale-105 navbar-fixed-body ${s.highlight?"bg-white border-2 border-blue-600 shadow-blue-200":"bg-white border border-gray-200"}`,children:[s.highlight&&e.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2",children:e.jsxs("span",{className:"flex items-center gap-1 bg-blue-600 text-white px-4 py-1 rounded-full text-sm font-medium shadow-md",children:[e.jsx(A,{className:"h-4 w-4"})," Más vendido"]})}),e.jsx("h3",{className:"text-2xl font-bold mb-2 text-center text-gray-800",children:s.name}),e.jsx("p",{className:"text-gray-500 mb-4 text-center",children:s.description}),e.jsxs("div",{className:"text-center mb-6",children:[t&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-gray-400 line-through mr-2 text-lg",children:["$",t," MXN"]}),e.jsx("br",{})]}),e.jsxs("span",{className:"text-4xl font-extrabold text-blue-600",children:["$",x," MXN"]}),l&&e.jsxs("span",{className:"text-green-600 font-semibold ml-2",children:["(",s.discountPercentage,"% OFF)"]})]}),e.jsx("ul",{className:"space-y-3 flex-1",children:s.features?.map((i,d)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(R,{className:"h-5 w-5 text-green-500 mr-2"}),e.jsx("span",{className:"text-gray-700",children:i})]},d))}),e.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:`mt-6 w-full py-3 px-4 rounded-xl font-semibold text-center transition duration-300 ${s.highlight?"bg-green-600 text-white hover:bg-green-700 shadow-md":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:"Solicitar información"})]})})};function ie(){const[s]=q(),{data:g,isLoading:C}=j({queryKey:["/api/config"]}),{data:h,isLoading:f}=j({queryKey:["/api/sections"]}),{data:n,isLoading:l}=j({queryKey:["/api/testimonials"]}),{user:u}=T(),y=D(),r=u?.role==="superuser",x=z({mutationFn:async({id:a,data:o})=>I(`/api/sections/${a}`,{method:"PUT",body:JSON.stringify(o)}),onSuccess:()=>y.invalidateQueries({queryKey:["/api/sections"]})});N.useMemo(()=>n?.filter(a=>a.isFeatured&&a.isApproved).slice(0,3)||[],[n]);const{appearance:t,frontpage:i,modules:d,pagesContent:m,themeConfig:W}=N.useMemo(()=>{const a=g?.config,o=a?.theme||{};return{appearance:a?.appearance||{},frontpage:a?.frontpage||{},modules:a?.frontpage?.modulos||{},themeConfig:o,pagesContent:a?.pagesContent?.servicios||{plans:[{id:"1",name:"Esencial",price:"6,499.00 MXN",originalPrice:"",discountPercentage:0,isPromotion:!1,description:"Atrae nuevos clientes con un blog profesional que genera contenido de valor.",features:["Diseño a medida: Apariencia profesional con tu logo, colores y tipografía.","Contenido clave: 3 secciones principales (Inicio, Servicios, Contacto), con un blog y 3 servicios listados.","Módulo de contacto","Conexión directa: Formulario de contacto, integración con redes sociales y botón de WhatsApp.",'Detalles profesionales: Correo corporativo y una sección de "Conócenos" para generar confianza.'],highlight:!1},{id:"2",name:"Profesional",price:"7,599.00 MXN",originalPrice:"9,499.00 MXN",discountPercentage:20,isPromotion:!0,description:"Un sitio web que se ve y funciona perfectamente en cualquier dispositivo, garantizando una experiencia de usuario ideal.",features:["Construye confianza: Incluye 3 testimonios de clientes y una sección de Preguntas Frecuentes.","Automatiza tu agenda: Sistema de reservas en línea para que tus clientes agenden fácilmente.","Mejora tu contenido: Blog optimizado y un banner principal personalizado para destacar tu marca.","Organización profesional: Gestión de entregables y documentos de forma estructurada."],highlight:!0},{id:"3",name:"Premium",price:"15,499.00 MXN",originalPrice:"",discountPercentage:0,isPromotion:!1,description:"Ten el control total de tu stock para que nunca te quedes sin productos.",features:["E-commerce completo: Tienda en línea para hasta 30 productos con categorías y gestión de inventario.","Pagos seguros: Integración con Stripe para recibir pagos en línea.","Marketing avanzado: Herramientas de comunicación y marketing digital para atraer y retener clientes.","Análisis y crecimiento: Reportes de actividad web y una sección de servicios premium para monetizar más tu oferta."],highlight:!1}]}}},[g]),L=N.useCallback((a="rocket")=>({rocket:e.jsx(P,{}),users:e.jsx(X,{}),target:e.jsx($,{}),star:e.jsx(A,{})})[a]||e.jsx(P,{}),[]),F=["#2563EB","#25D366","#f59e0b","#8b5cf6","#ef4444","#06b6d4"];return C||f||l?e.jsx(U,{message:"Cargando contenido del sitio..."}):e.jsxs("div",{className:"min-h-screen bg-background overflow-x-hidden",style:{backgroundColor:t.backgroundColor||"inherit",color:t.textColor||"inherit",fontFamily:t.fontFamily||"inherit"},children:[e.jsx(B,{title:t.metaTitle||t.brandName,description:t.metaDescription,image:t.ogImage}),e.jsx(H,{}),e.jsx(Q,{title:i?.contenidos?.titulo||t.brandName||"Bienvenido a Nuestro Sistema",subtitle:i?.contenidos?.subtitulo||t.tagline||"Calidad y Servicio a tu Alcance",appearance:t,children:e.jsxs("div",{className:"space-x-4",children:[e.jsx(w,{size:"lg",variant:"secondary",asChild:!0,children:e.jsx(k,{href:"/contact",children:"Contáctanos"})}),d.tienda?.activo&&e.jsx(w,{variant:"ghost",className:"text-white hover:bg-white hover:text-black border border-white",children:e.jsx(k,{href:"/store",children:"Ver Tienda"})})]})}),d.planes?.activo===!0&&m.plans&&m.plans.length>0&&e.jsx(v,{delay:.2,children:e.jsx("section",{className:"py-20 bg-gradient-to-b from-white to-gray-100",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-gray-800 mb-6",children:"Planes a tu Medida"}),e.jsx("p",{className:"text-center text-gray-500 mb-12 max-w-2xl mx-auto",children:"Escoge el plan que mejor se adapte a tus objetivos. Todos incluyen soporte y optimización básica."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:m.plans?.map(a=>e.jsx(V,{plan:a},a.id))})]})})}),h?.filter(a=>a.isActive).map((a,o)=>{const c=(a.config||{}).alternating||{};return e.jsx(K,{reverse:c.forceReverse??o%2===1,icon:c.showDecorative!==!1?L(c.iconType):void 0,background:c.backgroundColor||F[o%F.length],image:c.backgroundImage,hideOnMobile:c.hideOnMobile||!1,delay:.8+o*.2,children:r?e.jsxs(e.Fragment,{children:[e.jsx(E,{value:a.name||"",onSave:b=>x.mutate({id:a.id,data:{name:b}}),placeholder:"Nombre de la sección...",className:"text-3xl font-bold mb-4 block",tag:"h2",style:{color:t.textColor,fontFamily:t.fontFamily}}),e.jsx(_,{value:a.content||"",onSave:b=>x.mutate({id:a.id,data:{content:b}}),placeholder:"Contenido de la sección...",className:"text-lg mb-6 opacity-80",style:{color:t.textColor,fontFamily:t.fontFamily},rows:4})]}):e.jsxs(e.Fragment,{children:[a.name&&e.jsx("h2",{className:"text-3xl font-bold mb-4",style:{color:t.textColor,fontFamily:t.fontFamily},children:a.name}),a.content&&e.jsx("p",{className:"text-lg mb-6 opacity-80",style:{color:t.textColor,fontFamily:t.fontFamily},children:a.content})]})},a.id)}),e.jsx(v,{delay:.2,children:e.jsx("section",{className:"py-16",style:{backgroundColor:t.backgroundColor?`${t.backgroundColor}20`:"var(--muted)"},children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",style:{color:t.textColor||"#111",fontFamily:t.fontFamily||"sans-serif"},children:"Lo que Dicen Nuestros Clientes"}),e.jsx("p",{className:"text-lg opacity-80",style:{color:t.textColor||"#444",fontFamily:t.fontFamily||"sans-serif"},children:"Testimonios reales de clientes satisfechos"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:n?.filter(a=>a.isApproved).length?n.filter(a=>a.isApproved).map(a=>e.jsx(M,{className:"h-full border rounded-xl shadow-sm",style:{backgroundColor:t.backgroundColor?`${t.backgroundColor}10`:"#fff",borderColor:t.primaryColor?`${t.primaryColor}30`:"#e2e8f0"},children:e.jsxs(S,{className:"p-6 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[[...Array(a.rating??5)].map((o,p)=>e.jsx("span",{className:"text-yellow-400 text-xl",children:"★"},p)),[...Array(5-(a.rating??5))].map((o,p)=>e.jsx("span",{className:"text-gray-300 text-xl",children:"★"},p))]}),e.jsxs("blockquote",{className:"mb-4 flex-grow opacity-90",style:{color:t.textColor||"#111",fontFamily:t.fontFamily||"sans-serif"},children:['"',a.content,'"']}),e.jsx("div",{className:"text-sm font-semibold mt-auto",style:{color:t.textColor||"#111",fontFamily:t.fontFamily||"sans-serif"},children:a.name})]})},a.id)):e.jsx(M,{className:"col-span-1 md:col-span-3 text-center py-16",children:e.jsx(S,{children:e.jsx("p",{className:"text-gray-600 text-lg",children:"Aún no hay testimonios. ¡Sé el primero en compartir tu experiencia!"})})})})]})})}),e.jsx(O,{})]},s)}export{ie as default};
