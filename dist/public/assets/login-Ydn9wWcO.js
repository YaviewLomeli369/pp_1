import{r as d,b as g,u as N,k as f,j as e,L as a,B as m,as as y,C as S,O as C,V as b,at as w,f as I,q as u,s as x,ao as E,aq as L}from"./index-68JtM4Cd.js";import{N as q,F as A}from"./footer-Z09FTuhT.js";import{S as F}from"./seo-head-CvkVOmlP.js";import{A as H}from"./AnimatedSection-BCVpFQZW.js";import"./proxy-CmXc19OU.js";function R(){const[r,h]=d.useState(""),[t,p]=d.useState(""),{login:j,isLoginLoading:i,loginError:n}=g(),[,c]=N(),{toast:l}=f(),v=s=>{s.preventDefault(),j({username:r,password:t},{onSuccess:o=>{l({title:"¡Bienvenido!",description:"Has iniciado sesión correctamente"}),o.user.role==="admin"||o.user.role==="superuser"?c("/admin"):c("/")},onError:()=>{l({variant:"destructive",title:"Error",description:"Credenciales incorrectas"})}})};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(F,{title:"Iniciar Sesión - Sistema Modular"}),e.jsx(q,{}),e.jsx(H,{children:e.jsx("div",{className:"flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8 min-h-[calc(100vh-4rem)]",children:e.jsxs("div",{className:"w-full max-w-md space-y-6",children:[e.jsx("div",{className:"text-center",children:e.jsx(a,{href:"/",children:e.jsxs(m,{variant:"outline",className:"inline-flex items-center",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Volver al Inicio"]})})}),e.jsxs(S,{className:"w-full",children:[e.jsxs(C,{className:"space-y-1",children:[e.jsx(b,{className:"text-2xl text-center",children:"Iniciar Sesión"}),e.jsx(w,{className:"text-center",children:"Ingresa tus credenciales para acceder al sistema"})]}),e.jsxs(I,{children:[e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"username",children:"Usuario o Email"}),e.jsx(x,{id:"username",type:"text",value:r,onChange:s=>h(s.target.value),required:!0,placeholder:"Ingresa tu usuario o email"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(u,{htmlFor:"password",children:"Contraseña"}),e.jsx(x,{id:"password",type:"password",value:t,onChange:s=>p(s.target.value),required:!0,placeholder:"Ingresa tu contraseña"})]}),n&&e.jsx(E,{variant:"destructive",children:e.jsx(L,{children:n.message||"Error al iniciar sesión"})}),e.jsx(m,{type:"submit",className:"w-full",disabled:i,children:i?"Iniciando sesión...":"Iniciar Sesión"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["¿No tienes una cuenta?"," ",e.jsx(a,{href:"/register",className:"text-primary hover:underline",children:"Regístrate aquí"})]})}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(a,{href:"/",className:"text-sm text-gray-500 hover:underline",children:"Volver al inicio"})})]})]})]})})}),e.jsx(A,{})]})}export{R as default};
