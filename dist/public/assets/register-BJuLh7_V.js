import{r as i,b as E,u as q,k as U,j as e,L as d,B as N,as as A,C as P,O as R,V as $,at as F,f as V,q as c,s as l,ao as k,aq as D}from"./index-68JtM4Cd.js";import{N as H,F as I}from"./footer-Z09FTuhT.js";import{S as T}from"./seo-head-CvkVOmlP.js";import{A as z}from"./AnimatedSection-BCVpFQZW.js";import"./proxy-CmXc19OU.js";function J(){const[o,f]=i.useState(""),[m,C]=i.useState(""),[r,y]=i.useState(""),[x,b]=i.useState(""),{register:w,isRegisterLoading:u,registerError:h}=E(),[,L]=q(),{toast:t}=U(),a=(s=>{const n=s.length>=8,p=/[A-Z]/.test(s),j=/[a-z]/.test(s),g=/\d/.test(s),v=/[@$!%*?&]/.test(s);return{minLength:n,hasUpper:p,hasLower:j,hasNumber:g,hasSymbol:v,isValid:n&&p&&j&&g&&v}})(r),S=s=>{if(s.preventDefault(),!a.isValid){t({variant:"destructive",title:"Contraseña insegura",description:"La contraseña no cumple con los requisitos de seguridad"});return}if(r!==x){t({variant:"destructive",title:"Error",description:"Las contraseñas no coinciden"});return}w({username:o,email:m,password:r,role:"cliente"},{onSuccess:()=>{t({title:"¡Registro exitoso!",description:"Tu cuenta ha sido creada. Ahora puedes iniciar sesión."}),L("/login")},onError:n=>{t({variant:"destructive",title:"Error",description:n.message||"No se pudo crear la cuenta"})}})};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(T,{title:"Crear Cuenta - Sistema Modular"}),e.jsx(H,{}),e.jsx("div",{className:"flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8 min-h-[calc(100vh-4rem)]",children:e.jsxs("div",{className:"w-full max-w-md space-y-6",children:[e.jsx("div",{className:"text-center",children:e.jsx(d,{href:"/",children:e.jsxs(N,{variant:"outline",className:"inline-flex items-center",children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Volver al Inicio"]})})}),e.jsx(z,{children:e.jsxs(P,{className:"w-full",children:[e.jsxs(R,{className:"space-y-1",children:[e.jsx($,{className:"text-2xl text-center",children:"Crear Cuenta"}),e.jsx(F,{className:"text-center",children:"Regístrate para acceder a todas las funcionalidades"})]}),e.jsxs(V,{children:[e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"username",children:"Usuario"}),e.jsx(l,{id:"username",type:"text",value:o,onChange:s=>f(s.target.value),required:!0,placeholder:"Elige un nombre de usuario"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"email",children:"Email"}),e.jsx(l,{id:"email",type:"email",value:m,onChange:s=>C(s.target.value),required:!0,placeholder:"tu@email.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"password",children:"Contraseña"}),e.jsx(l,{id:"password",type:"password",value:r,onChange:s=>y(s.target.value),required:!0,placeholder:"Crea una contraseña segura"}),r&&e.jsxs("div",{className:"text-xs space-y-1 p-2 bg-muted rounded-md",children:[e.jsx("p",{className:"font-medium text-muted-foreground",children:"Requisitos de contraseña:"}),e.jsxs("div",{className:"grid grid-cols-1 gap-1",children:[e.jsxs("div",{className:`flex items-center gap-1 ${a.minLength?"text-green-600":"text-red-500"}`,children:[e.jsx("span",{children:a.minLength?"✓":"✗"}),e.jsx("span",{children:"Mínimo 8 caracteres"})]}),e.jsxs("div",{className:`flex items-center gap-1 ${a.hasUpper?"text-green-600":"text-red-500"}`,children:[e.jsx("span",{children:a.hasUpper?"✓":"✗"}),e.jsx("span",{children:"Una mayúscula (A-Z)"})]}),e.jsxs("div",{className:`flex items-center gap-1 ${a.hasLower?"text-green-600":"text-red-500"}`,children:[e.jsx("span",{children:a.hasLower?"✓":"✗"}),e.jsx("span",{children:"Una minúscula (a-z)"})]}),e.jsxs("div",{className:`flex items-center gap-1 ${a.hasNumber?"text-green-600":"text-red-500"}`,children:[e.jsx("span",{children:a.hasNumber?"✓":"✗"}),e.jsx("span",{children:"Un número (0-9)"})]}),e.jsxs("div",{className:`flex items-center gap-1 ${a.hasSymbol?"text-green-600":"text-red-500"}`,children:[e.jsx("span",{children:a.hasSymbol?"✓":"✗"}),e.jsx("span",{children:"Un símbolo (@$!%*?&)"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"confirmPassword",children:"Confirmar Contraseña"}),e.jsx(l,{id:"confirmPassword",type:"password",value:x,onChange:s=>b(s.target.value),required:!0,placeholder:"Repite tu contraseña"})]}),h&&e.jsx(k,{variant:"destructive",children:e.jsx(D,{children:h.message||"Error al crear la cuenta"})}),e.jsx(N,{type:"submit",className:"w-full",disabled:u,children:u?"Creando cuenta...":"Crear Cuenta"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["¿Ya tienes una cuenta?"," ",e.jsx(d,{href:"/login",className:"text-primary hover:underline",children:"Inicia sesión aquí"})]})}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(d,{href:"/",className:"text-sm text-gray-500 hover:underline",children:"Volver al inicio"})})]})]})})]})}),e.jsx(I,{})]})}export{J as default};
